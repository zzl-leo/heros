<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <script src="/jquery/dist/jquery.min.js"></script>
    <script src="/art-template/lib/template-web.js"></script>
    <script src="/axios/dist/axios.min.js"></script>
    <title>Document</title>
</head>

<body>
    <div class="container">
        <h1><a href="/">亡者农药</a>
            <small>查看英雄信息</small>
        </h1>
        <hr>

        <div id="info">
           
        </div>

    </div>

    <script type="text/html" id="temp">
        <p><strong>Id：<%=data.message[0].id%></strong></p>
        <p><strong>姓名：<%=data.message[0].name%></strong></p>
        <p><strong>性别：<%=data.message[0].gender%></strong></p>
        <p><strong>创建时间：<%=data.message[0].ctime%></strong></p>
        
    </script>

    <script>
        var a = new URLSearchParams(location.search);
        var id = a.get('id');
        // $.ajax({
        //     type:'get',
        //     url:'http://127.0.0.1:5000/api/gethero',
        //     dataType:'json',
        //     data:{
        //         id:id
        //     },
        //     success:function(data){
        //         if(data.err_code == 0){
        //             var html = template('temp',data);
        //             $('#info').html(html);
        //             console.log(data);
        //         }else{
        //             alert(111);
        //         }
        //     }
        // });

        axios('http://127.0.0.1:5000/api/gethero',{
            params: {
                id: id
            }
        })
        .then(function(data){
            console.log(data);
            
                var html = template('temp',data);
                $('#info').html(html);
            
            
        }).catch(function(err){
            console.log(err);
        })

    </script>
</body>

</html>